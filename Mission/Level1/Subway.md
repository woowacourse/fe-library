## 🚀 지하철 노선도 Q&A

### JWT Access Token을 어떻게 관리하시나요?

- 의견을 들어보고 싶어서 질문 드립니다! 여러분은 JWT Access Token을 어떻게 관리하시나요?
  저는 보통 localStorage에 저장하고, API 요청을 보낼 때 Header에 매번 담아서 요청하는 방법을 이용하고 있습니다. Access Token을 저장할 때, 쿠키에 담아서 저장하는 방법도 있지만, 각각 보안적으로 취약점이나 문제점이 존재한다고 합니다. Access Token을 최대한 완벽하게 관리할 수 있는 방법은 없을까요?

- 대칭키로 암호화 하는 건 어떨까요 ㅋㅋ 키는 잘 숨겨놓고..
- 근데 이번 미션에서는 web storage에 저장했다가 사용만 잘 해도 충분히 목표달성 아닌가 싶긴합니다!

### 새로운 요소가 추가 되는 위치가 어디가 좋을까요?
```
혹시 새로운 역을 등록하면 가장 위에 역이 등록되어야 할까요? 아니면 아래에 역이 맨 아래에 등록되어야 할까요?

예를 들어 기존 역들이 [과천, 신림, 삼성]이 있고, 새로이 사당을 등록한다고 했을 때
1)
--> 사당
과천
신림
삼성
2)
과천
신림
삼성
--> 사당
1,과 2 중에 어떤 UX가 더 나아보이나요?
사실 filter를 넣으면 되는 부분이긴 한데, 
그 default 값이 최신순(가장 최근에 넣은 값이 가장 위에 등록)이 되어야할까요 
아니면 최신순이 아니어야할까요?

그리고, 만약 최신 등록 순으로 나열하는 것을 선택했다면..
통일성을 주기 위해서 노선 관리에서도 최신 등록순으로 나열하는 것을 적용할 것 같은데..
새로운 노선을 등록한다면 뭔가 1호선부터 등록하게 될텐데, 그러면 나중에 노선이
9호선
8호선
7호선
… 이렇게 등록이 될 것 같은데… 이건 또 뭔가 좋아보이지 않습니다 ^ ^..
다들 어떤 UX를 선택하셨나요? 궁금합니다! !
```
- 1번이요! 제가 사용자라면 입력창 근처에 방금 입력한 게 뜨는게 좋겠어요 
- 추가할때는 1번, 새로고침 해서 다시 볼때는 이름순 정렬? 이 좋지 않을까요?   단순히 생각해봤습니다..
- 저희는 2번으로 했는데, 2번으로 했을 때 화면에서 벗어나는 문제는 포커싱으로 하면 될 것 같습니다
- 저는 2번이요! 제가 사용하는 앱들(Todo, 메모)에서는 리스트에 아이템을 추가할 때 하단에 추가되는 UX가 적용되어 있어서 하단에 추가하는게 더 자연스럽다고 느꼈네요
- 그리고 노선의 경우는 그냥 보기에 편한대로 하면 될거 같다는 생각이 듬니당..!
특히 거의 대부분의 나라는 호선 이름에 숫자를 붙이지만, 일본의 경우에는 번호보다는 이름이 들어간다는 특징(번호도 있습니다)이 있습니다. 이를 생각하면 숫자가 아닌 이름이 들어간 경우에도 가나다 순이 맞을까?를 고민하게 되고, 결국 내가 보기 편안한게 쵝오라는 생각이 드네용

<br>

### line 데이터의 stations와 sections의 순서 보장 여부
```
line갖고 올 때 stations랑 sections의 순서가 같다는 게 보장될까요? 
보장안된다는걸 가정하고 기능구현을 해야할까요?
```
- 백엔드를 믿으시나요?
- 저희가 sections의 정보와 stations의 정보를 가지고 모두 렌더링을 해봤는데 된다고 결론이 나왔습니다 !
- (백엔드) : 히스토리를 말씀드리면 저는 정렬을 고려해서 구현했는데 정렬이 안되어 응답이 온다는 제보를 받은적이 있었어요ㅜㅜ 
- 믿지 말라고만 했지 안 된다고는 안 했습니다;;;

<br>

### accessToken 만료 시간이 어떻게 되나요?
```
혹시 accessToken 얼마쯤만에 만료되는 걸까요~~~~???
```
- Keep-Alive: timeout=60
- HTTP 연결 타임아웃 시간이군요… 60초…
- 정답은! 토큰 유효시간은 3600000ms 입니다 :)
- 여기에다 access token 집어넣으면 해독해줍니다 ㅎㅎ : https://jwt.io/ 

<br>

### 구간 사이에 역울 추가하는 방법에 대해
```
여러분 다들 요구사항과 API가 매칭이 잘 되시나요?
저는 Step 2 기능 요구사항을 작성하다 보니
이해가 가지 않는 점이 있어서 함께 이야기 나누어 보고 싶어요 
---
1. 구간 추가에 거리, 시간을 추가하는 UI가 없음
  저희가 직접 만드는걸까요. . . ?

2. 역과 역 사이에 역을 추가(구간 추가)
  2-1. 역과 역 사이에 거리가 큰 역이 추가 되었을 때
    A(상행선) --(10km)-- C(하행선)
    추가(A와 C사이에 B추가) : A(상행) --(15km)-- B(하행)
    저절로 A -- C -- B 로 설정이 되는 걸까요 . . . ?
    아니면, A -- B -- C 설정이 되지 않도록 API에 설정이 되어 있는 걸까요. . . ?
    아니면, 우리가 막아야하는 걸까요. . . ?

  2-2. 역과 역 사이에 거리가 작은 역이 추가 되었을 때
    A(상행선) --(10km)-- C(하행선)
    추가(A와 C사이에 B추가) : A(상행) --(5km)-- B(하행)
    저절로 B와 C의 사이가 계산이 되도록 로직이 짜여 있을까요. . . ?
      ex) A --(5km)-- B --(?)-- C
    아니면, 우리가 직접 B와 C 사이를 새로이 연결해 주어야 할까요. . .?
---
다들 어떻게 생각하고 계신가요. . . ? 공유해 주세요 (HELP !! ) 
```
- ui가 없다면 직접 만드는 게 맞을 듯하고, 이 부분은 api 연동 문제인 것 같아 
  실제 로직 구현 전에 백엔드와 소통해보는 게 좋지 않을까 싶네요!
- 저희는 하나하나 추가해가는 중인데 역관리 쪽에서도 삭제랑 수정이 구현이 안되어있어 브라운이랑 같이 얘기해가면서 일단 삭제 기능은 고쳤습니다
- 2-1 와 2-2 상황대로 요청해보고 결과를 확인해보세요!
  ```
    2-1
    1. A - (10) - C 구간 생성
    2. A - (15) - B 구간 생성
    3. 결과 확인
    2-2
    1. A - (10) - C 구간 생성
    2. A - (5) - B 구간 생성
    3. 결과 확인
  ```
- 2번 상황에 대해 API 요청을 보낸 결과입니다. (됩니다^^;; 포호홋)
그 외 테스트 하면서 추가적으로 발견한 Issue 3가지는 Github issue에 올려놓았습니다!
확인 부탁드립니다 감사합니다!!!!
[이슈 링크](https://github.com/woowacourse/javascript-subway/issues/35)

---

###  지하철 노선도 1단계 jbee 공통 피드백 

#### babel
모든 크루분들이 잘 사용해주고 계십니다!
꽤나 중요한 친구라서 몇 가지 추가로 살펴보면 좋을 것들을 알려드려요~
@babel/preset-env 의 역할은 뭘까?
@babel/polyfill은 뭘까? (+ 왜 deprecated 되었을까?)
babel은 뭐고 polyfill은 뭐지? (다른건가?)

#### Protected Routes
로그인 상태를 판단하기 위해 라우터 이동마다 API 호출하고 있는데요, 왠지 비효율적이지 않나요? :생각하는_얼굴:
어떤 페이지에서 인증이 필요한 API를 호출했을 때, 에러가 발생하면 그 때 로그인 페이지로 redirect 해주면 어떨까요?

#### 에러 처리에 대한 이야기
API 호출이 기능에 추가되면서 try-catch를 사용하여 각자 다양한 방식으로 에러를 핸들링해주고 계십니다. 바로 위에서 말씀드린 Protected Routes 에서 드렸던 이야기와도 일맥상통할 이야기인데요,
늘 그렇듯 개발엔 돌아가기면 하면 틀린 것은 없다고 생각합니다. 다만 더 나은 것은 항상 있고 더 낫다고 하더라도 항상 “트레이드 오프“가 존재하기 마련인데요, 제가 최근에 이 에러 처리에 대해 고민했고 그 과정을 글로 적은게 있습니다. 여러분도 한번 에러를 어떻게 처리하면 좋을까 충분히 고민해보시고, 시간 되실 때 글 한 번 읽어보세요! (1편, 3편은 React 중심이라서 2편만 읽어보시길 권장드립니다)
[효율적인 프런트엔드 에러 핸들링 2편. 클라이언트의 사용자 중심 예외 처리](https://jbee.io/react/error-declarative-handling-2/)


---

### github pages에 SPA 배포하기
- [gh-pages: dist 디렉토리만 deploy 하기](https://velog.io/@bigsaigon333/gh-pages-dist-%EB%94%94%EB%A0%89%ED%86%A0%EB%A6%AC%EB%A7%8C-deploy-%ED%95%98%EA%B8%B0)
- [원문(영어)- Host single page apps with GitHub Pages](https://github.com/rafgraph/spa-github-pages)
- [한국어 번역본 - 깃허브 페이지(GitHub Pages)에 SPA 배포/호스팅 하기](https://github.com/sujinleeme/spa-github-pages-ko)

